<!doctype html>
<html lang="pt-br">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-H5DTVXXB59"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-H5DTVXXB59');
  </script>

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Achadinhos Oficial</title>
  <meta name="theme-color" content="#0f172a" />

  <style>
:root{
  /* Tema claro (profissional) */
  --bg:#f6f7fb;
  --card:#ffffff;
  --soft:#f1f5f9;

  --text:#0f172a;
  --muted:#64748b;

  --brand:#16a34a;
  --accent:#f59e0b;
  --danger:#dc2626;

  --border:rgba(15,23,42,.10);
  --shadow: 0 12px 28px rgba(2,6,23,.10);
  --radius:16px;

  --yellow:#ffd000;
  --yellow2:#ffb800;
  --yellowText:#1a1400;
}
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(1000px 600px at 20% 0%, rgba(34,197,94,.12), transparent 60%),
                  radial-gradient(800px 500px at 80% 10%, rgba(245,158,11,.10), transparent 55%),
                  var(--bg);
      color:var(--text);
      overflow-x:hidden;
    }
    a{color:inherit;text-decoration:none}
    .wrap{max-width:1100px;margin:0 auto;padding:16px}

    /* BARRA AMARELA */
    .topbar{
      background: linear-gradient(90deg, var(--yellow), var(--yellow2));
      color:var(--yellowText);
      border-bottom:1px solid rgba(0,0,0,.12);
      position:sticky;
      top:0;
      z-index:80;
    }
    .topbar .wrap{
      padding:14px 16px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }
    .topbrand{
      display:flex;align-items:center;gap:12px;
      font-weight:1000;
      letter-spacing:.2px;
      min-width:0;
    }
    .toplogo{
      width:64px;height:64px;
      border-radius:18px;
      background:#111;
      display:flex;align-items:center;justify-content:center;
      overflow:hidden;
      flex:0 0 auto;
      box-shadow: 0 12px 26px rgba(0,0,0,.20);
    }
    .toplogo img{width:100%;height:100%;object-fit:contain}
    .toptext{min-width:0}
    .topname{
      font-size:24px;
      line-height:1.1;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .toptag{
      font-size:15px;
      opacity:.9;
      font-weight:900;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      max-width:60vw;
    }
    .topright{
      display:flex;gap:10px;align-items:center;flex:0 0 auto;
      font-weight:1000;
      font-size:13px;
      background: rgba(0,0,0,.10);
      border:1px solid rgba(0,0,0,.12);
      border-radius:999px;
      padding:10px 12px;
      white-space:nowrap;
      cursor:pointer;
      user-select:none;
    }
    .topright:active{transform: translateY(1px)}
    @media (max-width: 520px){
      .toptag{display:none}
      .topbar .wrap{padding:12px 14px}
      .toplogo{width:44px;height:44px}
      .topname{font-size:16px}
    }

    /* Header escuro */
    header{
      position:sticky;
      top:74px;
      z-index:60;
      background: rgba(11,18,32,.86);
      backdrop-filter: blur(10px);
      border-bottom:1px solid var(--border);
    }
    @media (max-width: 520px){
      header{top:68px}
    }

    .headbar{
      display:flex;gap:12px;align-items:center;justify-content:space-between;
      padding:12px 0;
      flex-wrap:wrap;
    }
    .brand{
      display:flex;align-items:center;gap:10px;
      font-weight:800; letter-spacing:.3px;
      min-width: 220px;
    }
    .logo{
      width:38px;height:38px;border-radius:12px;
      background: linear-gradient(135deg, rgba(34,197,94,.95), rgba(245,158,11,.85));
      box-shadow: var(--shadow);
      flex: 0 0 auto;
    }
    .sub{
      font-size:12px;color:var(--muted);margin-top:2px;font-weight:600;
    }
    .status{
      display:flex;align-items:center;gap:10px;
      padding:10px 12px;border:1px solid var(--border);
      border-radius:999px;background: rgba(255,255,255,.03);
      font-size:12px;color:var(--muted);
      white-space:nowrap;
      max-width: 100%;
      overflow:hidden;
      text-overflow: ellipsis;
    }
    .dot{width:9px;height:9px;border-radius:999px;background:var(--accent);box-shadow: 0 0 0 4px rgba(245,158,11,.12)}
    .status b{color:var(--text)}
    .pill{
      padding:8px 10px;border-radius:999px;
      background: rgba(34,197,94,.12);
      border:1px solid rgba(34,197,94,.25);
      font-size:12px;font-weight:800;color:#bbf7d0;
      white-space:nowrap;
    }

    /* Hero */
    .hero{
      margin-top:16px;
      background: linear-gradient(180deg, rgba(19,32,71,.9), rgba(15,26,51,.7));
      border:1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .hero:before{
      content:"";
      position:absolute; inset:-2px;
      background: radial-gradient(500px 200px at 20% 10%, rgba(34,197,94,.25), transparent 60%),
                  radial-gradient(450px 220px at 75% 0%, rgba(245,158,11,.22), transparent 55%);
      pointer-events:none;
    }
    .hero-inner{
      position:relative;
      padding:18px;
      display:grid;
      grid-template-columns: 1.3fr .7fr;
      gap:14px;
      align-items:start;
    }
    @media (max-width: 860px){
      .hero-inner{grid-template-columns:1fr}
    }
    .hero h1{margin:0;font-size:22px;line-height:1.2}
    .hero p{margin:8px 0 0;color:var(--muted);font-weight:600}
    .hero .ctaRow{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    .btn{
      display:inline-flex;align-items:center;gap:10px;
      padding:12px 14px;border-radius:14px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.03);
      font-weight:900;
      cursor:pointer;
      transition: transform .08s ease;
      user-select:none;
      color:var(--text);
    }
    .btn:active{transform: translateY(1px)}
    .btnPrimary{
      background: linear-gradient(135deg, rgba(34,197,94,.95), rgba(34,197,94,.75));
      color:#052014;border:none;
    }

    .kpi{display:grid;gap:10px;}
    .kpiCard{
      border:1px solid var(--border);
      background: rgba(255,255,255,.03);
      border-radius:14px;
      padding:12px;
    }
    .kpiCard b{font-size:16px}
    .kpiCard span{display:block;color:var(--muted);font-size:12px;font-weight:700;margin-top:2px}

    /* V√çDEO */
    .videoWrap{
      margin:12px auto 0;
      border:1px solid var(--border);
      background: rgba(255,255,255,.03);
      border-radius:14px;
      overflow:hidden;
      max-width: 520px;
    }
    @media (max-width: 860px){
      .videoWrap{max-width:100%}
    }
    .videoTop{
      display:flex;align-items:center;justify-content:space-between;gap:10px;
      padding:10px 12px;
      border-bottom:1px solid var(--border);
      flex-wrap:wrap;
    }
    .videoTop b{font-size:13px}
    .videoTop .mini{font-size:12px;color:var(--muted);font-weight:900}
    .btnTiny{
      padding:10px 12px;border-radius:12px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.03);
      font-weight:1000;
      cursor:pointer;
      color:var(--text);
    }
    .videoFrame{
      aspect-ratio: 16 / 9;
      background:#000;
    }
    video{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
      background:#000;
    }

    /* OFERTA DO MINUTO */
    .spot{
      margin-top:14px;
      border:1px solid rgba(245,158,11,.22);
      background: linear-gradient(180deg, rgba(245,158,11,.10), rgba(255,255,255,.02));
      border-radius: var(--radius);
      box-shadow: 0 12px 24px rgba(0,0,0,.20);
      overflow:hidden;
      display:grid;
      grid-template-columns: 1fr 1.25fr;
      gap:0;
    }
    @media (max-width: 860px){
      .spot{grid-template-columns:1fr}
    }
    .spotImg{
      background: rgba(0,0,0,.18);
      border-right:1px solid rgba(255,255,255,.08);
      min-height: 220px;
      display:flex;align-items:center;justify-content:center;
      padding:10px;
    }
    @media (max-width: 860px){
      .spotImg{border-right:none;border-bottom:1px solid rgba(255,255,255,.08)}
    }
    .spotImg img{
      width:100%;
      height:100%;
      max-height: 260px;
      object-fit:contain;
      border-radius: 14px;
      background: rgba(0,0,0,.14);
    }
    .spotBody{
      padding:14px;
      display:grid;
      gap:10px;
    }
    .spotTop{
      display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap;
    }
    .spotBadge{
      display:inline-flex;align-items:center;gap:8px;
      padding:8px 12px;border-radius:999px;
      background: rgba(239,68,68,.14);
      border:1px solid rgba(239,68,68,.28);
      color:#fecaca;
      font-weight:1000;
      letter-spacing:.2px;
    }
    .spotTitle{
      margin:0;
      font-size:16px;
      font-weight:1000;
      line-height:1.2;
    }
    .spotPrices{
      display:flex;align-items:flex-end;justify-content:space-between;gap:10px;flex-wrap:wrap;
    }
    .priceNow{
      display:inline-flex;align-items:center;gap:8px;
      padding:8px 12px;
      border-radius:999px;
      background: rgba(34,197,94,.18);
      border:1px solid rgba(34,197,94,.35);
      font-weight:1000;
      font-size:18px;
      color:#bbf7d0;
      white-space:nowrap;
    }
    .priceOld{
      color: rgba(229,231,235,.75);
      font-weight:900;
      font-size:14px;
      text-decoration: line-through;
      white-space:nowrap;
    }
    .spotCopy{
      font-weight:1000;
      color: rgba(229,231,235,.92);
      line-height:1.35;
    }
    .spotBtns{
      display:flex;gap:10px;flex-wrap:wrap;
    }

    /* Controls */
    .controls{
      margin-top:14px;
      display:flex;gap:10px;flex-wrap:wrap;
      align-items:center;justify-content:space-between;
    }
    .search{
      flex:1; min-width:240px;
      display:flex;align-items:center;gap:10px;
      padding:12px 12px;
      border:1px solid var(--border);
      border-radius:14px;
      background: rgba(255,255,255,.03);
    }
    .search input{
      width:100%;
      background:transparent;border:none;outline:none;color:var(--text);
      font-size:14px;font-weight:700;
    }
    .select{
      min-width:180px;
      padding:12px 12px;
      border:1px solid var(--border);
      border-radius:14px;
      background: rgba(255,255,255,.03);
      color:var(--text);
      font-weight:800;
      outline:none;
    }

    /* Chips */
    .chips{
      margin-top:10px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }
    .chip{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:10px 12px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.06);
      color:var(--text);
      font-weight:1000;
      cursor:pointer;
      user-select:none;
    }
    .chipOn{
      border:1px solid rgba(34,197,94,.35);
      background: rgba(34,197,94,.14);
      color:#bbf7d0;
    }

    /* Social */
    .bar{
      margin-top:14px;
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    @media (max-width: 860px){
      .bar{grid-template-columns:1fr}
    }
    .notice{
      border:1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.06);
      border-radius:14px;
      padding:14px;
      display:flex;gap:10px;align-items:flex-start;
    }
    .badge{
      width:42px;height:42px;border-radius:14px;
      display:flex;align-items:center;justify-content:center;
      background: rgba(245,158,11,.18);
      border:1px solid rgba(245,158,11,.30);
      flex:0 0 auto;
      font-size:18px;
    }
    .notice h3{
      margin:0;
      font-size:16px;
      font-weight:1000;
      letter-spacing:.2px;
    }
    .notice p{
      margin:6px 0 0;
      color: rgba(229,231,235,.92);
      font-weight:1000;
      font-size:14px;
      line-height:1.35;
    }

    /* Grid / cards */
    .grid{
      margin-top:16px;
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:12px;
    }
    @media (max-width: 980px){.grid{grid-template-columns: repeat(2,1fr)}}
    @media (max-width: 620px){.grid{grid-template-columns: repeat(2, 1fr)}}
    @media (max-width: 380px){.grid{grid-template-columns: 1fr}}

    .card{
      border:1px solid var(--border);
      background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      border-radius: var(--radius);
      overflow:hidden;
      box-shadow: 0 12px 24px rgba(0,0,0,.25);
      display:flex;flex-direction:column;
      min-height: 420px;
    }
    .imgbox{
      background: rgba(255,255,255,.03);
      border-bottom:1px solid var(--border);
      aspect-ratio: 16 / 11;
      display:flex;align-items:center;justify-content:center;
      overflow:hidden;
      padding:8px;
    }
    .imgbox img{
      width:100%;height:100%;
      object-fit:contain;
      display:block;
      filter:saturate(1.05) contrast(1.03);
      background: rgba(0,0,0,.12);
      border-radius: 12px;
    }

    .cardBody{padding:12px;display:grid;gap:10px}
    .title{
      margin:0;
      font-size:14px;
      line-height:1.25;
      font-weight:900;
      min-height: 36px;
    }
/* ‚úÖ CTA por produto (Estoque limitado / Sucesso de vendas) ‚Äî AMARELO */
.ctaTag{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:8px 10px;
  border-radius:12px;

  background: linear-gradient(180deg, #ffd000, #ffb800) !important;
  border:1px solid #e6a700 !important;

  color:#1a1400 !important;
  font-weight:1000 !important;
  font-size:13px;
  line-height:1.25;

  box-shadow: 0 6px 16px rgba(0,0,0,.15);
}

    .prices{
      display:flex;align-items:flex-end;justify-content:space-between;gap:10px;
      flex-wrap:wrap;
    }
    .row{
      display:flex;justify-content:space-between;gap:10px;align-items:center;
      flex-wrap:wrap;
    }
    .muted{color:var(--muted);font-weight:900;font-size:12px}
    .tag{
      display:inline-flex;align-items:center;gap:6px;
      padding:6px 10px;border-radius:999px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.03);
      font-size:12px;font-weight:900;color:var(--text);
    }
    .off{
      border:1px solid rgba(239,68,68,.32);
      background: rgba(239,68,68,.12);
      color:#fecaca;
    }
    .coupon{
      border:1px solid rgba(34,197,94,.28);
      background: rgba(34,197,94,.12);
      color:#bbf7d0;
    }
    .buy{
      margin-top:2px;
      display:flex;gap:10px;
      flex-wrap:wrap;
    }
    .btnSmall{
      flex:1;
      min-width: 140px;
      display:flex;align-items:center;justify-content:center;
      padding:11px 12px;border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.05);
      font-weight:1000;
      cursor:pointer;
      color:var(--text);
    }
    .btnBuy{
      background: linear-gradient(135deg, rgba(245,158,11,.98), rgba(245,158,11,.78));
      color:#1b1201;border:none;
    }
    .btnGroup{
      background: linear-gradient(135deg, rgba(34,197,94,.98), rgba(34,197,94,.78));
      color:#052014;border:none;
    }
    .btnShare{
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.18);
      color:var(--text);
    }

    footer{
      margin:18px 0 110px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.03);
      border-radius: var(--radius);
      padding:14px;
    }
    footer b{display:block;margin-bottom:6px}
    footer ul{margin:0;padding-left:18px;color:var(--muted);font-weight:800;font-size:13px;line-height:1.55}

    .wa{
      position:fixed;right:16px;bottom:16px;z-index:999;
      display:flex;align-items:center;gap:10px;
      padding:14px 14px;
      border-radius:999px;
      background: linear-gradient(135deg, rgba(34,197,94,.98), rgba(34,197,94,.78));
      color:#052014;
      font-weight:1000;
      box-shadow: 0 18px 40px rgba(0,0,0,.35);
      border:none;
      cursor:pointer;
      max-width: calc(100vw - 32px);
    }
    .wa small{display:block;font-weight:900;opacity:.9;line-height:1}
    .wa span{display:block;line-height:1}
    .waIcon{
      width:38px;height:38px;border-radius:999px;
      background: rgba(0,0,0,.12);
      display:flex;align-items:center;justify-content:center;
      font-size:18px;
    }

    .loading{
      margin-top:16px;
      border:1px dashed rgba(255,255,255,.18);
      border-radius: var(--radius);
      padding:14px;
      color:var(--muted);
      font-weight:900;
    }
    /* =========================
   FIX CONTRASTE (TEMA CLARO)
   Cole no FINAL do <style>
   ========================= */

/* Texto base e cards */
body{ color: var(--text); }
.hero, .notice, .kpiCard, footer, .card{
  background: rgba(255,255,255,.92);
  border: 1px solid var(--border);
}
.status{
  background: rgba(255,255,255,.75);
  border: 1px solid var(--border);
  color: var(--muted);
}
.status b{ color: var(--text); }
.sub, .muted{ color: var(--muted) !important; }

/* Barra amarela j√° ok, mas garante contraste */
.topbar{ color: var(--yellowText); }
.topright{
  background: rgba(255,255,255,.55);
  border: 1px solid rgba(15,23,42,.18);
  color: #0f172a;
}

/* Bot√µes gerais */
.btn{
  background: rgba(255,255,255,.85);
  border: 1px solid rgba(15,23,42,.14);
  color: var(--text);
}
.btnPrimary{
  background: linear-gradient(135deg, rgba(22,163,74,.98), rgba(22,163,74,.78));
  color: #052014;
  border: none;
}

/* Bot√£o pequeno / a√ß√µes no card */
.btnSmall{
  background: rgba(255,255,255,.92);
  border: 1px solid rgba(15,23,42,.14);
  color: var(--text);
}
.btnBuy{
  background: linear-gradient(135deg, rgba(245,158,11,.98), rgba(245,158,11,.78));
  color: #1b1201;
  border: none;
}
.btnGroup{
  background: linear-gradient(135deg, rgba(22,163,74,.98), rgba(22,163,74,.78));
  color: #052014;
  border: none;
}
.btnShare{
  background: rgba(255,255,255,.92);
  border: 1px solid rgba(15,23,42,.16);
  color: var(--text);
}

/* Chips */
.chip{
  background: rgba(255,255,255,.92);
  border: 1px solid rgba(15,23,42,.14);
  color: var(--text);
}
.chipOn{
  background: rgba(22,163,74,.12);
  border: 1px solid rgba(22,163,74,.28);
  color: #14532d;
}

/* Busca e select */
.search, .select{
  background: rgba(255,255,255,.92);
  border: 1px solid rgba(15,23,42,.14);
  color: var(--text);
}
.search input{ color: var(--text); }
.search input::placeholder{ color: rgba(100,116,139,.95); }

/* Tags */
.tag{
  background: rgba(255,255,255,.92);
  border: 1px solid rgba(15,23,42,.14);
  color: var(--text);
}
.off{
  background: rgba(220,38,38,.10);
  border: 1px solid rgba(220,38,38,.22);
  color: #991b1b;
}
.coupon{
  background: rgba(22,163,74,.10);
  border: 1px solid rgba(22,163,74,.22);
  color: #14532d;
}

/* CTA do produto */
.ctaTag{
  background: rgba(245,158,11,.12);
  border: 1px solid rgba(245,158,11,.28);
  color: #7c2d12;
}

/* Pre√ßos */
.priceNow{
  background: rgba(22,163,74,.12);
  border: 1px solid rgba(22,163,74,.22);
  color: #14532d;
}
.priceOld{
  color: rgba(15,23,42,.55);
}

/* Oferta do minuto (spotlight) */
.spot{
  background: rgba(255,255,255,.92);
  border: 1px solid rgba(245,158,11,.25);
}
.spotImg{
  background: rgba(15,23,42,.04);
}
.spotBadge{
  background: rgba(220,38,38,.10);
  border: 1px solid rgba(220,38,38,.22);
  color: #991b1b;
}
.spotCopy{ color: rgba(15,23,42,.85); }

/* Floating WhatsApp */
.wa{
  background: linear-gradient(135deg, rgba(22,163,74,.98), rgba(22,163,74,.78));
  color:#052014;
}

/* Loading */
.loading{
  background: rgba(255,255,255,.92);
  border: 1px dashed rgba(15,23,42,.18);
  color: rgba(100,116,139,.95);
}
    /* =========================
   PATCH: textos apagados (tema claro)
   Cole no FINAL do <style>
   ========================= */

/* 1) Texto geral em fundo claro */
:root{
  --text:#0f172a;       /* texto principal escuro */
  --muted:#475569;      /* texto secund√°rio mais forte */
  --border:rgba(15,23,42,.12);
}

/* 2) Hero: t√≠tulo + destaque verde que ficou apagado */
.hero h1{ color: var(--text) !important; }
.hero p{ color: var(--muted) !important; }

/* Corrige esse trecho: "Clique e garanta." (span inline) */
.hero h1 span{
  color:#166534 !important;        /* verde escuro */
  font-weight:1000;
}

/* 3) Textos pequenos (sub/muted/mini) que estavam claros demais */
.sub, .muted, .mini, .kpiCard span, .notice p{
  color: var(--muted) !important;
}

/* 4) Header sticky (a faixa escura do topo) -> deixa claro e leg√≠vel */
header{
  background: rgba(255,255,255,.92) !important;
  border-bottom: 1px solid var(--border) !important;
}
.status{
  background: rgba(255,255,255,.92) !important;
  border: 1px solid var(--border) !important;
}
.status b{ color: var(--text) !important; }
#updatedTime{ color: var(--muted) !important; }

/* 5) KPI cards e notices: refor√ßa contraste do texto */
.kpiCard b, .notice h3{
  color: var(--text) !important;
}
.kpiCard{
  background: rgba(255,255,255,.95) !important;
  border: 1px solid var(--border) !important;
}
.notice{
  background: rgba(255,255,255,.95) !important;
  border: 1px solid var(--border) !important;
}

/* 6) Busca / select (placeholder e texto) */
.search input{ color: var(--text) !important; }
.search input::placeholder{ color: rgba(71,85,105,.95) !important; }
.select{ color: var(--text) !important; }

/* 7) S√≥ para garantir: textos em cards */
.card .title{ color: var(--text) !important; }
    /* REMOVE o segundo "Achadinhos Oficial" abaixo da faixa amarela */
header .brand{
  display:none !important;
}
    /* Aumenta a altura (espessura) da faixa amarela */
.topbar .wrap{
  padding-top:28px !important;
  padding-bottom:28px !important;
}
    /* Corrige cor do contador de ofertas */
#countPill{
  color:#065f46 !important;                 /* verde escuro */
  background: rgba(34,197,94,.18) !important;
  border: 1px solid rgba(34,197,94,.35) !important;
  font-weight:1000;
}
    /* FUNDO CONTRASTANTE NA √ÅREA DO V√çDEO */
.videoWrap{
  background: linear-gradient(
    135deg,
    #fff7cc 0%,
    #fff 55%,
    #fffaf0 100%
  ) !important;

  border: 1px solid rgba(0,0,0,.08);
  box-shadow: 0 10px 24px rgba(0,0,0,.12);
}

/* Barra superior do v√≠deo (texto + bot√£o) */
.videoTop{
  background: linear-gradient(
    90deg,
    #ffd000,
    #ffedb3
  ) !important;

  color:#1a1400;
  border-bottom:1px solid rgba(0,0,0,.12);
}

/* Texto da √°rea do v√≠deo */
.videoTop b,
.videoTop .mini{
  color:#1a1400 !important;
  font-weight:900;
}

/* Bot√£o "Ativar √°udio" */
.videoTop .btnTiny{
  background:#111 !important;
  color:#fff !important;
  border:none;
}
    /* ===============================
   BOX DO V√çDEO (FUNDO + CONTRASTE)
   =============================== */
.videoWrap{
  background: linear-gradient(
    180deg,
    #ffd000 0%,
    #ffedb3 35%,
    #ffffff 100%
  ) !important;

  border: 2px solid #ffd000;
  box-shadow:
    0 12px 28px rgba(0,0,0,.18),
    inset 0 0 0 1px rgba(255,255,255,.6);

  padding: 10px;
}

/* ===============================
   FAIXA SUPERIOR DO V√çDEO
   =============================== */
.videoTop{
  background: linear-gradient(
    90deg,
    #ffb800,
    #ffd000
  ) !important;

  color:#1a1400 !important;
  border-radius: 10px 10px 0 0;
  border-bottom: 1px solid rgba(0,0,0,.15);
}

/* Texto da faixa */
.videoTop b,
.videoTop .mini{
  color:#1a1400 !important;
  font-weight:900;
}

/* Bot√£o "Ativar √°udio" */
.videoTop .btnTiny{
  background:#111 !important;
  color:#fff !important;
  border:none;
  box-shadow: 0 4px 10px rgba(0,0,0,.25);
}

/* ===============================
   √ÅREA DO V√çDEO (FRAME)
   =============================== */
.videoFrame{
  background:#000;
  border-radius: 0 0 10px 10px;
  overflow:hidden;
  box-shadow: inset 0 0 0 2px rgba(0,0,0,.4);
}
    /* ===============================
   TAGS DE STATUS (ESTOQUE / SUCESSO)
   =============================== */

/* Estoque limitado / Sucesso de vendas */
.tag{
  background: linear-gradient(
    180deg,
    #ffd000,
    #ffb800
  ) !important;

  border: 1px solid #e6a700 !important;
  color: #1a1400 !important;

  font-weight: 1000;
  box-shadow: 0 4px 10px rgba(0,0,0,.15);
}

/* √çcones dentro da tag */
.tag span,
.tag i{
  color: #1a1400 !important;
}
    /* ===============================
   FOR√áA TAGS DE STATUS EM AMARELO
   (Estoque limitado / Sucesso)
   =============================== */

/* pega QUALQUER tag que tenha √≠cone üî• ou üöÄ */
.card .tag{
  background: linear-gradient(180deg, #ffd000, #ffb800) !important;
  border: 1px solid #e6a700 !important;
  color: #1a1400 !important;
  font-weight: 1000 !important;
  box-shadow: 0 4px 12px rgba(0,0,0,.18);
}

/* garante que o texto dentro fique escuro */
.card .tag,
.card .tag *{
  color: #1a1400 !important;
}
    /* =========================
   BOOST CONVERSAO (SEM MEXER NO HTML)
   Cole NO FINAL do <style>
   ========================= */

/* Fundo mais "comercial" e menos vazio */
body{
  background:
    radial-gradient(1100px 520px at 15% 0%, rgba(255,208,0,.28), transparent 55%),
    radial-gradient(900px 520px at 85% 10%, rgba(34,197,94,.18), transparent 55%),
    linear-gradient(180deg, #f7f8fb, #eef2f7);
  color:#0b1220;
}

/* Texto padr√£o mais escuro (tirar "apagado") */
:root{
  --text:#0b1220;
  --muted:#334155;
  --border: rgba(15,23,42,.14);
  --shadow: 0 12px 30px rgba(2,6,23,.10);
}

/* Header ‚Äúmais premium‚Äù */
header{
  background: rgba(255,255,255,.92);
  border-bottom: 1px solid rgba(15,23,42,.10);
  box-shadow: 0 8px 20px rgba(2,6,23,.06);
}
.brand .sub{ color:#475569; font-weight:800; }
.status{
  background: rgba(255,255,255,.88);
  border:1px solid rgba(15,23,42,.12);
  color:#334155;
}
.status b{ color:#0b1220; }
.pill{
  background: rgba(255,208,0,.20);
  border:1px solid rgba(255,184,0,.35);
  color:#1a1400;
}

/* Hero mais memor√°vel + menos ‚Äúclean demais‚Äù */
.hero{
  background: linear-gradient(180deg, rgba(255,255,255,.92), rgba(255,255,255,.70));
  border:1px solid rgba(15,23,42,.10);
  box-shadow: 0 16px 40px rgba(2,6,23,.10);
}
.hero:before{
  background:
    radial-gradient(620px 240px at 18% 0%, rgba(255,208,0,.38), transparent 60%),
    radial-gradient(520px 260px at 78% 0%, rgba(34,197,94,.22), transparent 55%);
}
.hero h1{
  font-size:26px;
  letter-spacing:-.4px;
  color:#0b1220;
}
.hero p{ color:#334155; }

/* Bot√µes com mais hierarquia */
.btn{
  background: rgba(255,255,255,.92);
  border:1px solid rgba(15,23,42,.12);
  box-shadow: 0 10px 20px rgba(2,6,23,.08);
  color:#0b1220;
}
.btnPrimary{
  background: linear-gradient(135deg, #22c55e, #16a34a);
  color:#052014;
  box-shadow: 0 14px 28px rgba(34,197,94,.22);
}

/* Chips mais ‚Äúpromo‚Äù */
.chip{
  background: rgba(255,255,255,.92);
  border:1px solid rgba(15,23,42,.12);
  color:#0b1220;
  box-shadow: 0 10px 20px rgba(2,6,23,.06);
}
.chipOn{
  background: linear-gradient(135deg, rgba(34,197,94,.22), rgba(255,208,0,.22));
  border:1px solid rgba(34,197,94,.30);
}
    /* Cards com cara de vitrine */
.card{
  background: linear-gradient(180deg, rgba(255,255,255,.96), rgba(255,255,255,.86));
  border:1px solid rgba(15,23,42,.12);
  box-shadow: 0 16px 36px rgba(2,6,23,.10);
  min-height: 440px;
  transform: translateZ(0);
}
.card:hover{
  transform: translateY(-2px);
  box-shadow: 0 20px 46px rgba(2,6,23,.14);
}

/* Imagem com ‚Äúmoldura‚Äù e destaque */
.imgbox{
  background:
    radial-gradient(240px 120px at 50% 20%, rgba(255,208,0,.26), transparent 60%),
    rgba(2,6,23,.03);
  border-bottom:1px solid rgba(15,23,42,.10);
  padding:10px;
}
.imgbox img{
  background: #fff;
  border: 1px solid rgba(15,23,42,.10);
  box-shadow: 0 10px 22px rgba(2,6,23,.10);
}

/* T√≠tulo com mais peso */
.title{
  font-size:15px;
  line-height:1.22;
  font-weight:1000;
  color:#0b1220;
}

/* Pre√ßo MUITO mais dominante */
.priceNow{
  background: linear-gradient(135deg, rgba(34,197,94,.18), rgba(34,197,94,.10));
  border:1px solid rgba(34,197,94,.32);
  color:#0b1220;
  font-size:20px;
}
.priceOld{ color:#64748b; }

/* tags mais leg√≠veis */
.muted{ color:#475569; }

/* desconto ‚Äúgrita oferta‚Äù */
.tag.off{
  background: linear-gradient(135deg, rgba(239,68,68,.18), rgba(239,68,68,.10));
  border:1px solid rgba(239,68,68,.30);
  color:#7f1d1d;
}

/* cupom premium */
.tag.coupon{
  background: linear-gradient(135deg, rgba(34,197,94,.18), rgba(34,197,94,.10));
  border:1px solid rgba(34,197,94,.30);
  color:#052014;
}

/* CTA (Estoque limitado / Sucesso de vendas) mais ‚Äúbanner de oferta‚Äù */
.ctaTag{
  background: linear-gradient(180deg, #ffd000, #ffb800) !important;
  border:1px solid #e6a700 !important;
  color:#1a1400 !important;
  box-shadow: 0 10px 20px rgba(255,184,0,.18);
}
    /* Urg√™ncia: desconto e CTA chamam MUITO mais aten√ß√£o */
@keyframes pulsePromo{
  0%{ transform: scale(1); filter: brightness(1); }
  50%{ transform: scale(1.02); filter: brightness(1.06); }
  100%{ transform: scale(1); filter: brightness(1); }
}

/* Desconto pulsando leve */
.tag.off{
  animation: pulsePromo 1.2s ease-in-out infinite;
}

/* CTA por produto pulsando (bem comercial) */
.ctaTag{
  animation: pulsePromo 1.4s ease-in-out infinite;
}
    /* Menos ‚Äúvazio‚Äù entre se√ß√µes */
.hero-inner{ padding:16px; }
.controls{ margin-top:10px; }
.grid{ margin-top:12px; gap:10px; }
.cardBody{ padding:12px; gap:9px; }

/* Barra social mais com cara de an√∫ncio */
.notice{
  background: rgba(255,255,255,.92);
  border:1px solid rgba(15,23,42,.12);
  box-shadow: 0 12px 26px rgba(2,6,23,.08);
}
.notice p{ color:#0b1220; }
    /* ===== FIX MOBILE: mostrar copy abaixo do logo ===== */
@media (max-width: 520px){
  .toptag{
    display:block !important;
    font-size:13px !important;
    font-weight:900 !important;
    opacity:1 !important;
    white-space:normal !important;
    overflow:visible !important;
    text-overflow:unset !important;
    line-height:1.2 !important;
    max-width:75vw !important;
    color:#1a1a1a !important;
  }

  .topbar{
    padding:16px 14px !important;
  }

  .toptext{
    display:flex;
    flex-direction:column;
    gap:4px;
  }
}
    /* ===============================
   ECONOMIA / DESCONTO (VITRINE)
================================ */
.saveBar{
  margin: 10px 0 2px;
  padding: 10px 12px;
  border-radius: 14px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
  background: linear-gradient(90deg, rgba(255, 196, 0, .35), rgba(34,197,94,.18));
  border: 1px solid rgba(255, 196, 0, .45);
}

.savePct{
  flex: 0 0 auto;
  font-weight: 900;
  font-size: 14px;
  padding: 6px 10px;
  border-radius: 999px;
  background: #ff2d2d;
  color: #fff;
  letter-spacing: .5px;
  box-shadow: 0 10px 20px rgba(255,45,45,.25);
}

.saveMoney{
  font-weight: 800;
  font-size: 13px;
  color: #0f172a;
}

.saveMoney b{
  font-size: 14px;
}
    .imgBadge{
  position:absolute;
  top:10px;
  left:10px;
  z-index:5;
  background:rgba(0,0,0,.75);
  padding:8px;
  border-radius:12px;
  color:#fff;
  box-shadow:0 10px 25px rgba(0,0,0,.3);
}

.imgBadgeOff{
  font-weight:900;
  font-size:14px;
  padding:5px 10px;
  border-radius:999px;
  background:linear-gradient(90deg,#ff2d55,#ff9500);
  margin-bottom:6px;
  display:inline-block;
}

.imgBadgeSave{
  font-size:13px;
  font-weight:800;
  color:#fde68a;
}
    /* ===== HOTFIX: badge menor e menos invasivo ===== */
.imgBadge{
  top:auto !important;
  left:auto !important;
  right:10px !important;
  bottom:10px !important;

  padding:6px 8px !important;
  border-radius:10px !important;
  background:rgba(0,0,0,.55) !important;
  backdrop-filter: blur(4px);
  max-width: 72% !important;
}

.imgBadgeOff{
  font-size:12px !important;
  padding:3px 7px !important;
  margin-bottom:4px !important;
}

.imgBadgeSave{
  font-size:12px !important;
  line-height:1.15 !important;
  white-space:nowrap;
}
    /* REMOVER a faixa (linha) que mostra % OFF + "Voc√™ economiza..." */
.saveRow,
.savingsRow,
.dealRow,
.discountRow{
  display: none !important;
}
   /* =========================
   MOBILE FIX (fica bonito e converte)
   Cole NO FINAL do <style>
   ========================= */
@media (max-width: 620px){

  /* 1) Layout: 1 coluna no mobile (mais limpo e premium) */
  .grid{
    grid-template-columns: 1fr !important;
    gap: 12px !important;
  }

  /* 2) Topbar: menos alta (muito alta no print) */
  .topbar .wrap{
    padding: 14px 14px !important;
    gap: 10px !important;
  }
  .toplogo{ width:50px !important; height:50px !important; border-radius:16px !important; }
  .topname{ font-size:18px !important; }
  .toptag{ font-size:13px !important; max-width: 68vw !important; }

  /* 3) ‚Äú45 ofertas‚Äù mais compacto */
  #countPill{
    padding: 7px 10px !important;
    font-size: 12px !important;
    border-radius: 999px !important;
  }

  /* 4) Card: menos alto e com respiro certo */
  .card{
    min-height: unset !important;
    border-radius: 18px !important;
  }
  .cardBody{
    padding: 12px !important;
    gap: 8px !important;
  }

  /* 5) Imagem: segura e sem ficar ‚Äúgigante‚Äù */
  .imgbox{
    aspect-ratio: 16 / 10 !important;
    padding: 10px !important;
  }
  .imgbox img{
    border-radius: 14px !important;
  }

  /* 6) T√≠tulo: 2 linhas e acabou */
  .title{
    font-size: 14px !important;
    line-height: 1.22 !important;
    min-height: unset !important;
    display: -webkit-box !important;
    -webkit-line-clamp: 2 !important;
    -webkit-box-orient: vertical !important;
    overflow: hidden !important;
  }

  /* 7) Pre√ßos: mais compactos */
  .priceNow{
    font-size: 18px !important;
    padding: 8px 12px !important;
  }
  .priceOld{
    font-size: 13px !important;
  }

  /* 8) CTA amarelo (estoque/sucesso) menor */
  .ctaTag{
    padding: 7px 10px !important;
    border-radius: 12px !important;
    font-size: 12.5px !important;
    animation: none !important; /* tira pulsar no mobile */
  }

  /* 9) ECONOMIA: compacta, sem quebrar e sem ficar gigante */
  .saveBar{
    padding: 9px 10px !important;
    border-radius: 14px !important;
    gap: 8px !important;
    align-items: center !important;
  }
  .savePct{
    font-size: 12px !important;
    padding: 4px 8px !important;
    margin: 0 !important;
  }
  .saveMoney{
    font-size: 12.5px !important;
    line-height: 1.15 !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
  }
  .saveMoney b{
    font-size: 12.5px !important;
  }

  /* 10) Tags (frete/cupom/urg√™ncia): menores e sem poluir */
  .tag{
    font-size: 11.5px !important;
    padding: 5px 9px !important;
  }

  /* 11) Bot√µes: 2 por linha (muito melhor no dedo) */
  .buy{
    display: grid !important;
    grid-template-columns: 1fr 1fr !important;
    gap: 10px !important;
  }
  .btnSmall{
    min-width: 0 !important;
    width: 100% !important;
    padding: 12px 12px !important;
    border-radius: 14px !important;
    font-size: 13px !important;
  }

  /* 12) Floating WhatsApp: menor e n√£o tampa tudo */
  .wa{
    right: 12px !important;
    left: 12px !important;
    bottom: 12px !important;
    width: calc(100% - 24px) !important;
    justify-content: center !important;
    padding: 12px 12px !important;
    border-radius: 18px !important;
    gap: 10px !important;
  }
  .waIcon{ width:34px !important; height:34px !important; }
}
    /* =========================
   SOMENTE SELO NA IMAGEM
   (remove a barra de economia do card)
   Cole NO FINAL do <style>
   ========================= */

/* 1) Remove a barra "Voc√™ economiza..." do corpo do card */
.saveBar{ display:none !important; }

/* 2) Selo na imagem (canto) - compacto e n√£o tampa o produto */
.imgbox{ position:relative !important; }

.imgBadge{
  position:absolute !important;
  right:10px !important;
  bottom:10px !important;
  left:auto !important;
  top:auto !important;

  z-index:6 !important;

  padding:6px 8px !important;
  border-radius:12px !important;

  background: rgba(0,0,0,.60) !important;
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);

  border: 1px solid rgba(255,255,255,.14);
  box-shadow: 0 10px 24px rgba(0,0,0,.22);

  max-width: 80% !important;
}

/* linha 1: % OFF (selo) */
.imgBadgeOff{
  display:inline-flex !important;
  align-items:center;
  justify-content:center;

  font-weight:1000 !important;
  font-size:12px !important;

  padding:3px 8px !important;
  border-radius:999px !important;

  background: linear-gradient(90deg,#ff2d55,#ff9500) !important;
  color:#fff !important;

  margin:0 0 4px 0 !important;
  letter-spacing:.3px;
}

/* linha 2: economia (bem clara) */
.imgBadgeSave{
  font-size:12px !important;
  font-weight:900 !important;
  color:#fff !important;

  white-space:nowrap !important;
  overflow:hidden !important;
  text-overflow:ellipsis !important;
}

.imgBadgeSave b{
  color:#fde68a !important; /* amarelo ‚Äúdinheiro‚Äù */
  font-weight:1000 !important;
}

/* 3) Mobile: ainda menor e mais ‚Äúlimpo‚Äù */
@media (max-width: 620px){
  .imgBadge{
    right:8px !important;
    bottom:8px !important;
    padding:5px 7px !important;
    border-radius:11px !important;
    max-width: 78% !important;
  }
  .imgBadgeOff{
    font-size:11px !important;
    padding:3px 7px !important;
    margin-bottom:3px !important;
  }
  .imgBadgeSave{
    font-size:11.5px !important;
  }
}
  </style>
</head>

<body>

<div class="topbar">
  <div class="wrap">
    <div class="topbrand">
      <div class="toplogo" aria-hidden="true">
        <img src="logo.png" alt="Logo Achadinhos" onerror="this.style.display='none'">
      </div>
    <div class="toptext">
  <div class="topname">Achadinhos Oficial</div>
  <div class="toptag">üöö Tudo com frete gr√°tis ‚Ä¢ at√© <b>70% OFF</b> ‚Äî aproveite antes que acabe</div>
</div>
</div>
      </div>
    </div>

    <div class="topright" onclick="openGroup()" title="Abrir grupo do WhatsApp">
      üü¢ Entrar no grupo
    </div>
  </div>
</div>

<header>
  <div class="wrap">
    <div class="headbar">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <div>Achadinhos <span style="color:#bbf7d0">Oficial</span></div>
          <div class="sub">Ofertas atualizadas direto da planilha</div>
        </div>
      </div>

      <div class="status" title="Atualiza√ß√£o autom√°tica">
        <span class="dot" id="statusDot"></span>
        <span id="updatedLabel"><b>Carregando</b></span>
        <span id="updatedTime" class="mini" data-mode="checking">Verificando‚Ä¶</span>
      </div>

      <div class="pill" id="countPill">0 ofertas</div>
    </div>
  </div>
</header>

<main class="wrap">

  <section class="hero">
    <div class="hero-inner">
      <div>
        <h1>As melhores ofertas do dia ‚Äî sem enrola√ß√£o. <span style="color:#bbf7d0">Clique e garanta.</span></h1>

        <div class="ctaRow">
          <button class="btn btnPrimary" onclick="scrollToOffers()">üéÅ Ver ofertas agora</button>
          <button class="btn" onclick="forceReload()">üîÑ Atualizar agora</button>
          <button class="btn" onclick="openGroup()">üü¢ Entrar no grupo</button>
        </div>

        <div class="videoWrap" id="videoWrap">
          <div class="videoTop">
            <div>
              <b>üé• V√≠deo</b>
              <div class="mini">No celular, autoplay com √°udio √© bloqueado. Use ‚ÄúAtivar √°udio‚Äù.</div>
            </div>
            <button class="btnTiny" onclick="enableVideoAudio()">üîä Ativar √°udio</button>
          </div>
          <div class="videoFrame">
            <video id="promoVideo" controls playsinline preload="metadata"></video>
          </div>
        </div>
      </div>

      <div class="kpi">
        <div class="kpiCard">
          <b id="kpi1">0</b>
          <span>ofertas dispon√≠veis</span>
        </div>
        <div class="kpiCard">
          <b id="kpi2">0</b>
          <span>vendidos hoje (estimativa)</span>
        </div>
      </div>
    </div>
  </section>

  <!-- OFERTA DO MINUTO -->
  <section id="spotlight" class="spot" style="display:none" aria-live="polite">
    <div class="spotImg">
      <img id="spotImg" src="" alt="Oferta do minuto" referrerpolicy="no-referrer">
    </div>
    <div class="spotBody">
      <div class="spotTop">
        <div class="spotBadge">üö® OFERTA DO MINUTO</div>
        <div class="muted" id="spotMeta">pode acabar a qualquer momento</div>
      </div>

      <h2 class="spotTitle" id="spotTitle">‚Äî</h2>

      <div class="spotPrices">
        <div class="priceNow" id="spotNow">‚Äî</div>
        <div class="priceOld" id="spotOld" style="display:none">‚Äî</div>
      </div>

      <div class="spotCopy" id="spotCopy">
        üî• Oferta rotativa: Se gostou, aproveite agora ‚Äî pode acabar a qualquer momento.
      </div>

      <div class="spotBtns">
        <button class="btnSmall btnBuy" onclick="spotOpen()">Ver oferta</button>
        <button class="btnSmall btnGroup" onclick="openGroup()">Entrar no grupo</button>
        <button class="btnSmall btnShare" onclick="spotShare()">Compartilhar</button>
      </div>
    </div>
  </section>

  <section class="controls">
    <div class="search">
      üîé <input id="q" type="text" placeholder="Buscar produto (ex: t√™nis, perfume, mesa...)" />
    </div>

    <select class="select" id="sort">
      <option value="best">Ordenar: destaque</option>
      <option value="priceAsc">Menor pre√ßo</option>
      <option value="priceDesc">Maior pre√ßo</option>
      <option value="discountDesc">Maior desconto</option>
      <option value="soldDesc">Mais vendidos</option>
      <option value="ratingDesc">Melhor avalia√ß√£o</option>
    </select>
  </section>

  <section class="chips">
    <div class="chip" id="chipCoupon" onclick="toggleChip('coupon')">üßæ Com cupom</div>
    <div class="chip" id="chipDiscount" onclick="toggleChip('discount')">üî• Maior desconto</div>
  </section>

  <section class="bar">
    <div class="notice">
      <div class="badge">‚úÖ</div>
      <div>
        <p id="socialProof">‚úÖ +1.200 pessoas j√° entraram no grupo ‚Ä¢ üî• 27 ofertas postadas hoje</p>
      </div>
    </div>

    <div class="notice">
      <div class="badge">üî•</div>
      <div>
        <p id="urgencyText">üî• As melhores ofertas somem primeiro. Se gostou, clique e garanta AGORA ‚Äî pode acabar a qualquer momento.</p>
      </div>
    </div>
  </section>

  <div id="loading" class="loading">Carregando ofertas da planilha‚Ä¶</div>

  <section id="offers" class="grid" aria-live="polite"></section>

  <footer>
    <b>üîí Compra com mais seguran√ßa</b>
    <ul>
      <li>Este site divulga ofertas encontradas em marketplaces e grupos parceiros.</li>
      <li><b>N√£o somos uma loja oficial do Mercado Livre</b> e n√£o representamos a marca.</li>
      <li>Pre√ßos e disponibilidade podem mudar a qualquer momento no site do vendedor.</li>
      <li>Se algum item n√£o abrir, atualize a p√°gina e tente novamente.</li>
    </ul>
  </footer>

</main>

<button class="wa" onclick="openGroup()" aria-label="Entrar no grupo do WhatsApp">
  <div class="waIcon">üü¢</div>
  <div>
    <span>Entrar no grupo</span>
    <small>Receber links e cupons</small>
  </div>
</button>
<!-- ‚úÖ COLE NO FINAL DO SEU <script defer> (depois de startSheetRefresh(); ) -->
<script>
/* =========================================================
   SELO NA IMAGEM: %OFF + "Economize R$X" (S√ì NA IMAGEM)
   - Remove a barra de economia do corpo (saveBar)
   - Cria um selo pequeno no canto da foto
   - Reaplica sempre que o grid renderizar/atualizar
   ========================================================= */

function brlToNumber(txt){
  if(!txt) return NaN;
  const s = String(txt).trim()
    .replace(/\s/g,'')
    .replace(/\./g,'')
    .replace(',', '.')
    .replace(/[^\d.-]/g,'');
  const n = Number(s);
  return Number.isFinite(n) ? n : NaN;
}

function ensureBadgeStyles(){
  if(document.getElementById("imgBadgeStyles")) return;
  const style = document.createElement("style");
  style.id = "imgBadgeStyles";
  style.textContent = `
    /* some com a barra do corpo (se existir) */
    .saveBar{display:none !important;}

    /* garante que o selo fique preso na imagem */
    .imgbox{ position: relative !important; }

    /* selo compacto no canto da imagem */
    .imgBadge{
      position:absolute;
      right:10px; bottom:10px;
      z-index:5;
      padding:6px 8px;
      border-radius:10px;
      background: rgba(0,0,0,.55);
      backdrop-filter: blur(4px);
      color:#fff;
      box-shadow: 0 10px 22px rgba(0,0,0,.22);
      max-width: 75%;
      pointer-events:none;
      display:grid;
      gap:4px;
    }
    .imgBadgeOff{
      display:inline-block;
      font-weight:1000;
      font-size:12px;
      padding:3px 7px;
      border-radius:999px;
      background: linear-gradient(90deg,#ff2d55,#ff9500);
      letter-spacing:.2px;
      justify-self:start;
      white-space:nowrap;
    }
    .imgBadgeSave{
      font-weight:900;
      font-size:12px;
      line-height:1.15;
      color:#fde68a;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    /* mobile: ainda menor */
    @media (max-width:520px){
      .imgBadge{ right:8px; bottom:8px; padding:5px 7px; max-width:78%; }
      .imgBadgeOff{ font-size:11px; padding:2px 6px; }
      .imgBadgeSave{ font-size:11px; }
    }
  `;
  document.head.appendChild(style);
}

function applyImageBadges(){
  ensureBadgeStyles();

  document.querySelectorAll(".card").forEach(card=>{
    const imgBox = card.querySelector(".imgbox");
    if(!imgBox) return;

    // remove/evita duplicar
    const oldBadge = imgBox.querySelector(".imgBadge");
    if(oldBadge) oldBadge.remove();

    // pega pre√ßos do pr√≥prio card
    const nowEl = card.querySelector(".priceNow");
    const oldEl = card.querySelector(".priceOld");
    if(!nowEl || !oldEl) return;

    const now = brlToNumber(nowEl.textContent);
    const old = brlToNumber(oldEl.textContent);
    if(!Number.isFinite(now) || !Number.isFinite(old) || old <= now) return;

    const save = +(old - now).toFixed(2);
    const pct = Math.max(1, Math.round((save / old) * 100));

    const badge = document.createElement("div");
    badge.className = "imgBadge";
    badge.innerHTML = `
      <div class="imgBadgeOff">${pct}% OFF</div>
      <div class="imgBadgeSave">Economize R$ ${save.toFixed(2).replace('.',',')}</div>
    `;
    imgBox.appendChild(badge);
  });
}

/* ‚úÖ re-aplica SEM quebrar seu script:
   - roda no load
   - roda ap√≥s cada render do grid (se voc√™ j√° sobrescreveu render antes, funciona tamb√©m)
*/
(function hookRenderForBadges(){
  // roda uma vez ap√≥s carregar
  window.addEventListener("load", ()=> setTimeout(applyImageBadges, 600));

  // intercepta render se existir
  const _r = window.render;
  if(typeof _r === "function" && !_r.__badgesHooked){
    const wrapped = function(){
      const out = _r.apply(this, arguments);
      requestAnimationFrame(applyImageBadges);
      return out;
    };
    wrapped.__badgesHooked = true;
    window.render = wrapped;
  } else {
    // fallback: tenta reaplicar a cada 2s (leve) caso render n√£o esteja no escopo global
    setInterval(applyImageBadges, 2000);
  }
})();
</script>
<body>  

</html>

