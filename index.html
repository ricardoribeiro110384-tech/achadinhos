<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Achadinhos ML</title>
<style>
:root{--yellow:#ffd400;--radius:20px}
body{margin:0;font-family:Arial;background:#111}
.wrap{max-width:1100px;margin:auto;padding:16px}
.top{background:var(--yellow);border-radius:var(--radius);padding:22px;text-align:center}
.logo{width:320px;max-width:90%}
.section{padding:14px}
.carousel{display:flex;gap:12px;overflow-x:auto}
.carditem{flex:0 0 82%;background:#fff;border-radius:16px;overflow:hidden;text-decoration:none;color:#000}
.carditem img{width:100%;height:260px;object-fit:contain}
.cardinfo{padding:12px}
.old{color:#888;text-decoration:line-through}
.new{font-size:18px;font-weight:900}
.off{background:#dff3e1;color:#1b5e20;padding:4px 8px;border-radius:999px;font-size:12px;margin-left:6px}
</style>
</head>
<body>
<div class="wrap">
<div class="top"><img src="logo.png" class="logo"></div>

<section class="section"><h2>Ofertas</h2><div class="carousel" id="ofertas"></div></section>
<section class="section"><h2>Promoções</h2><div class="carousel" id="promos"></div></section>

</div>

<script>
const CSV="https://docs.google.com/spreadsheets/d/e/2PACX-1vQYh-FJUhtB7MT80tKHccZi-z1hTKUOwDqg-tQSR_YPiDOQv-mKmSjTyAtZzmhq8YEchYOjqcVZhJv3/pub?output=csv";
const WA="https://chat.whatsapp.com/GdvrM4Ct4Q6CA6Tf0DRyov";

fetch(CSV).then(r=>r.text()).then(t=>{
 const rows=t.trim().split("\n").slice(1);
 rows.forEach(l=>{
   const [section,image,title,price,discount]=l.split(",");
   if(!image) return;
   const p=parseFloat(price);
   const d=parseFloat(discount||0);
   const final=d?p-(p*d/100):p;

   const card=document.createElement("a");
   card.className="carditem";card.href=WA;card.target="_blank";
   card.innerHTML=`
    <img src="${image}">
    <div class="cardinfo">
      <strong>${title}</strong>
      ${d?`<div class="old">De: R$ ${p.toFixed(2)}</div>`:""}
      <div class="new">Por: R$ ${final.toFixed(2)} ${d?`<span class="off">${d}% OFF</span>`:""}</div>
    </div>`;
   if(section==="oferta") document.getElementById("ofertas").appendChild(card);
   if(section==="promo") document.getElementById("promos").appendChild(card);
 });
});
</script>
</body>
</html>
